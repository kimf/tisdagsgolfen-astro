---
export const prerender = true;
import 'src/styles/global.css';
import SharedHead from 'src/components/layouts/SharedHead.astro';
import ActiveSessions from 'src/components/homepage/ActiveSessions.astro';
import UserButton from 'src/components/homepage/UserButton.astro';
import ThemeToggle from 'src/components/ui/theme-toggle.astro';
import Button from 'src/components/ui/button.astro';
import Link from 'src/assets/icons/link.svg';
import StickyHeader from 'src/components/shared/StickyHeader.astro';
import Tabs from 'src/components/ui/tabs.astro';
---

<!doctype html>
<html lang="sv">
  <SharedHead title="Tisdagsgolfen" />
  <body class="antialiased dark:bg-gray-900">
    <div class="wrapper">
      <nav class="border-gray-200 bg-gray-200 dark:bg-gray-950">
        <div class="max-w-screen-lg flex items-center justify-between mx-auto p-4">
          <a href="/">
            <h1 class="text-accent-foreground font-bold">Tisdagsgolfen</h1>
          </a>

          <UserButton server:defer>
            <div
              slot="fallback"
              x-transition
              class="inline-flex gap-1 justify-center items-center animate-pulse"
            >
              <Button size="icon" intent="link" class="size-8">
                <div class="w-full h-full bg-gray-300"></div>
              </Button>
            </div>
          </UserButton>
        </div>
      </nav>
    </div>

    <main
      id="main"
      class="max-w-screen-lg mx-auto flex flex-col flex-wrap items-center justify-between p-4"
    >
      <div class="w-full main-section min-h-34">
        <StickyHeader title="RUNDOR" />
        <div class="flex overflow-x-scroll hide-scrollbar">
          <div class="flex flex-nowrap h-32">
            <ActiveSessions server:defer>
              <div slot="fallback">
                <div class="inline-block px-3 first:pl-0">
                  <div
                    class="animate-pulse h-32 overflow-hidden bg-card-foreground/25 flex flex-col bg-gradient-to-l from-slate-300 to-slate-100 border border-slate-300 p-4 gap-4 rounded-lg shadow-md w-64"
                  >
                  </div>
                </div>
              </div>
            </ActiveSessions>
          </div>
        </div>
      </div>
      <div class="w-full main-section">
        <StickyHeader title="LEDARTAVLA EFTER X RUNDOR" />
        <Tabs options={['Poäng', 'Böter']} />
      </div>
    </main>

    <footer
      class="fixed p-1 bottom-1 right-1 bg-background/75 backdrop-blur-xs max-w-screen-lg mx-auto"
    >
      <div class="flex">
        <Button intent="link">
          <a href="/years" class="flex">
            HISTORIK
            <Link class="size-5" />
          </a>
        </Button>
        <ThemeToggle />
      </div>
    </footer>
  </body>
</html>
